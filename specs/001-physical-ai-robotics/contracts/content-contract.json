# Book Content API Contract

## Overview
This contract defines the structure and format for the Physical AI & Humanoid Robotics textbook content.

## Content Structure Contract

### Chapter Schema
```json
{
  "type": "object",
  "required": ["id", "title", "number", "content"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the chapter"
    },
    "title": {
      "type": "string",
      "description": "Title of the chapter"
    },
    "number": {
      "type": "integer",
      "description": "Chapter number (1-5)",
      "minimum": 1,
      "maximum": 5
    },
    "description": {
      "type": "string",
      "description": "Brief description of the chapter content"
    },
    "content": {
      "type": "string",
      "description": "Main content in Markdown format"
    },
    "learningObjectives": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of learning objectives for the chapter"
    },
    "sections": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/section"
      },
      "description": "List of sections within the chapter"
    }
  }
}
```

### Section Schema
```json
{
  "type": "object",
  "required": ["id", "title", "content"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the section"
    },
    "title": {
      "type": "string",
      "description": "Title of the section"
    },
    "content": {
      "type": "string",
      "description": "Content of the section in Markdown format"
    },
    "subsections": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/section"
      },
      "description": "Nested subsections"
    },
    "examples": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/example"
      },
      "description": "Code examples in the section"
    },
    "labs": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/lab"
      },
      "description": "Laboratory exercises in the section"
    }
  }
}
```

### Example Schema
```json
{
  "type": "object",
  "required": ["id", "title", "code", "language"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the example"
    },
    "title": {
      "type": "string",
      "description": "Title of the example"
    },
    "description": {
      "type": "string",
      "description": "Brief description of the example"
    },
    "code": {
      "type": "string",
      "description": "Code snippet"
    },
    "language": {
      "type": "string",
      "enum": ["python", "cpp", "javascript", "bash"],
      "description": "Programming language of the code"
    },
    "explanation": {
      "type": "string",
      "description": "Explanation of the code"
    }
  }
}
```

### Lab Schema
```json
{
  "type": "object",
  "required": ["id", "title", "objectives", "steps"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the lab"
    },
    "title": {
      "type": "string",
      "description": "Title of the laboratory exercise"
    },
    "objectives": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Learning objectives of the lab"
    },
    "requirements": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Software/hardware requirements"
    },
    "steps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Step-by-step instructions"
    },
    "expectedOutcome": {
      "type": "string",
      "description": "Expected result of the lab"
    }
  }
}
```

## Docusaurus Configuration Contract

### Sidebar Configuration
The `sidebars.js` file must follow this structure:

```javascript
module.exports = {
  bookSidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // Generate sidebar from docs folder structure
    },
  ],
};
```

### Docusaurus Configuration
The `docusaurus.config.js` file must include:

```javascript
module.exports = {
  title: 'Physical AI & Humanoid Robotics',
  tagline: 'Embodied Intelligence in the Real World',
  url: 'https://your-domain.com',
  baseUrl: '/',
  organizationName: 'your-org',
  projectName: 'physical-ai-book',
  onBrokenLinks: 'throw',
  onBrokenMarkdownLinks: 'warn',
  // ... other required configuration
};
```

## Content Requirements Contract

### Chapter Requirements
1. Each chapter must be in a separate Markdown file
2. Files must be named as `chapter-{number}.md`
3. Each chapter must include frontmatter with title and sidebar_position
4. Content must follow university-level educational standards
5. All code examples must be technically accurate

### Cross-Linking Contract
1. Internal links must use relative paths
2. Links to other chapters must use Docusaurus doc syntax: `[text](./path)`
3. All cross-references must be validated during build
4. Broken links will cause build failure

## Validation Contract

### Build Validation
- All Markdown files must pass syntax validation
- All code snippets must be properly formatted
- All image references must exist in the static directory
- All internal links must be resolvable

### Content Validation
- All technical information must be accurate
- Code examples must be executable in appropriate environments
- All learning objectives must be addressed in content
- Content must meet university-level educational standards